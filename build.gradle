plugins {
    id 'java'
    id 'org.springframework.boot' version '3.5.7'
    id 'io.spring.dependency-management' version '1.1.7'
}

group = 'kim'
version = '0.0.1-SNAPSHOT'
description = 'onBidproperty'

java {
    toolchain {
        languageVersion = JavaLanguageVersion.of(21)
    }
}

configurations {
    compileOnly {
        extendsFrom annotationProcessor
    }
}

repositories {
    mavenCentral()
}

dependencies {
    /* =====================================
     ğŸ§© 1. ê¸°ë³¸ ìŠ¤í”„ë§ ë¶€íŠ¸ ì›¹ êµ¬ì„±ìš”ì†Œ
     ===================================== */
    implementation 'org.springframework.boot:spring-boot-starter-web'      // MVC, REST API, ë‚´ì¥ Tomcat
    implementation 'org.springframework.boot:spring-boot-starter-jdbc'     // JDBC, HikariCP ì»¤ë„¥ì…˜ í’€

    /* =====================================
     ğŸ—‚ï¸ 2. MyBatis & DB ì—°ë™
     ===================================== */
    implementation 'org.mybatis.spring.boot:mybatis-spring-boot-starter:3.0.5'
    implementation 'org.springframework.boot:spring-boot-starter-webflux'

//    WebClient ì˜ì¡´ì„±
    testImplementation 'io.projectreactor:reactor-test'// MyBatis-Spring í†µí•©
    runtimeOnly 'org.mariadb.jdbc:mariadb-java-client'                           // MariaDB JDBC ë“œë¼ì´ë²„

    /* =====================================
     ğŸ’¡ 3. ê°œë°œ í¸ì˜ ë° ì½”ë“œ ë‹¨ì¶•
     ===================================== */
    compileOnly 'org.projectlombok:lombok'           // Lombok (ì»´íŒŒì¼ ì‹œì—ë§Œ ì‚¬ìš©)
    annotationProcessor 'org.projectlombok:lombok'   // Lombok ì–´ë…¸í…Œì´ì…˜ ì²˜ë¦¬ê¸°
    developmentOnly 'org.springframework.boot:spring-boot-devtools'  // ì½”ë“œ ìˆ˜ì • ì‹œ ìë™ ë¦¬ë¡œë“œ

    /* =====================================
     âœ… 4. ìœ íš¨ì„± ê²€ì¦ (Validation)
     ===================================== */
    implementation 'org.springframework.boot:spring-boot-starter-validation'
    // â†’ @Valid, @NotNull, @Size ë“± ê²€ì¦ ì–´ë…¸í…Œì´ì…˜ ì‚¬ìš© ê°€ëŠ¥
    // jakarta.validation.constraints íŒ¨í‚¤ì§€ ê¸°ë°˜

    /* =====================================
     ğŸ“˜ 5. API ë¬¸ì„œí™” (Swagger / OpenAPI)
     ===================================== */
    implementation 'org.apache.commons:commons-lang3:3.19.0'
    // â†’ Swagger UI: http://localhost:8080/swagger-ui/index.html
    // â†’ OpenAPI 3.0 ìŠ¤í™ ìë™ ë¬¸ì„œí™”

    /* =====================================
     ğŸ§ª 6. í…ŒìŠ¤íŠ¸ ê´€ë ¨ ì˜ì¡´ì„±
     ===================================== */
    testImplementation 'org.springframework.boot:spring-boot-starter-test'      // JUnit, Mockito ë“± í¬í•¨
    testImplementation 'org.mybatis.spring.boot:mybatis-spring-boot-starter-test:3.0.5'  // MyBatis í…ŒìŠ¤íŠ¸ ì§€ì›
    testRuntimeOnly 'org.junit.platform:junit-platform-launcher'                // JUnit í”Œë«í¼ ì‹¤í–‰ê¸°
    // ModelMapper
    implementation 'org.modelmapper:modelmapper:3.1.1'
}

tasks.named('test') {
    useJUnitPlatform()
}
